<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prediction Model</title>
</head>
<body>
    <h1>Prediction Model</h1>

    <!-- 表单提交 -->
    <form method="POST">
        {% for feature in feature_columns %}
            <label for="{{ feature }}">{{ feature }}</label>
            <select name="{{ feature }}" id="{{ feature }}" required>
                {% for option in feature_ranges[feature]["options"] %}
                    <option value="{{ option }}">{{ option }}</option>
                {% endfor %}
            </select><br>
        {% endfor %}
        <button type="submit">Predict</button>
    </form>

    {% if probability %}
        <h2>Prediction Results:</h2>
        <p>Predicted Probability: {{ probability }}</p>
        <p>Risk Level: {{ risk_level }}</p>

        {% if shap_plot_path %}
            <h3>SHAP Plot:</h3>
            <img src="{{ url_for('serve_shap_plot') }}" alt="SHAP Plot">
        {% endif %}
    {% endif %}
</body>
</html>